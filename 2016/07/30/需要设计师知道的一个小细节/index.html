<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 需要设计师知道的一个小细节 · Lcrnice</title><meta name="description" content="需要设计师知道的一个小细节 - Lcrnice"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"></head><body><div id="mask" style="display: none;"><img id="mask-image" src="#" style=" "></div><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/u/2597892552" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/lcrnice" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">需要设计师知道的一个小细节</h1><div class="post-time">2016年7月30日</div><div class="post-content"><p><img src="http://7xt6wu.com1.z0.glb.clouddn.com/blog:%E9%9C%80%E8%A6%81%E8%AE%BE%E8%AE%A1%E5%B8%88%E7%9F%A5%E9%81%93%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%BB%86%E8%8A%82.png" alt="overview"></p>
<p>当产品经理将这个版本的需求明确之后，攻城狮在梳理逻辑的同时，应该就收到了设计师交给我们的<code>标注图</code>。虽然我觉得千篇一律的基础控件写起来没有干劲儿，但就是这些最常使用的基础控件，还是会让我们耗费很多时间来调整。  </p>
<h2 id="难道我写错了？"><a href="#难道我写错了？" class="headerlink" title="难道我写错了？"></a>难道我写错了？</h2><p>现在开发者通常会用<a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/" target="_blank" rel="external"><code>AutoLayout</code></a>来写UI，主要的参考元素是控件四边(edges)距离其他控件的距离(offset)。  </p>
<p>然而，当我们完全按照标注图搞出了一个视图后，得意洋洋的把效果图发给设计师后，设计却过来说：<strong>和标注图不一样！</strong><br>(程序猿内心：掀桌(╯‵□′)╯︵┻━┻)  </p>
<p>等等，在我们召唤九尾出来进入暴走状态之前，先想想原因：<em>我的确是按照标注图设置的间距，为什么和效果图不一样呢？难道我写错了？</em>（黑人疑问脸）  </p>
<h2 id="可能的原因"><a href="#可能的原因" class="headerlink" title="可能的原因"></a>可能的原因</h2><p>其实很有可能是<code>标注图中有文字需要用UILabel来实现</code>，而其实很多设计师给你的标注图都是<code>“错的”</code>。  </p>
<p>(并且大家都知道：AutoLayout约束Label只需要两个定量确定UILabel的origin即可，size Label会根据文字自我适配。下文中的栗子也是以Label自适应size为基础的)  </p>
<h2 id="举个栗子🌰"><a href="#举个栗子🌰" class="headerlink" title="举个栗子🌰"></a>举个栗子🌰</h2><p>假设你的设计师，给你一张这样的标注图：<br><img src="http://7xt6wu.com1.z0.glb.clouddn.com/blog:UIDesignLabelImage.png" alt="labelImage"><br>看上去<em>没毛病</em>，文字的颜色、字体大小、<strong>top</strong>、<strong>padding</strong>都已经明确的标注出来了，图中都是<a href="https://zh.wikipedia.org/zh/%E5%83%8F%E7%B4%A0" target="_blank" rel="external">px(像素)</a>的标注，iOS使用pt(也就是point，pt = px/2)，四个标题规格相同，最顶部和最底部的标题offset都是<strong>21pt</strong>，文字间距是<strong>15pt</strong>，cell高度为<strong>140pt</strong>。  </p>
<p>可是，完全按照标注图的标注使用<em><a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/" target="_blank" rel="external">AutoLayout</a></em>从上到下约束后，模拟器效果图却是这样的:<br><img src="http://7xt6wu.com1.z0.glb.clouddn.com/blog:UIDesignSimulatorLabels.png" alt="模拟器效果图"><br>模拟器效果图中，黑色部分是使用<em><a href="https://github.com/adad184/MMPlaceHolder" target="_blank" rel="external">MMPlaceHolder</a></em>将标题间距离用pt尺寸显示了出来，可以看得出，Label间的间距的确是如标注图中的一样，<strong>top = 21pt</strong>，<strong>padding = 15pt</strong>，但是row = 0的cell底部间距超出了cell很大一部分。  </p>
<p><strong>Why?</strong>  </p>
<p><strong>A:</strong><code>因为UILabel每个字号都存在一个“最小高度值”。</code>这个最小高度值会保证当前字号下，任何字符串都不会超出UILabel所在的区域。这个机制就导致如果UI设计师如上图所示一样标注<em>文字</em>与其他视图间的标注，会让我们完成的效果图与预期有很大的偏差。<br>用图表示会更直观一些：<br><img src="http://7xt6wu.com1.z0.glb.clouddn.com/blog:UIDesignTestLabel.png" alt="testLabel"><br>上图中，灰色区域为<code>UILabel</code>，可以看出，不同文字的top距离UILabel的top有不同的间距，细想之下，这是一个十分合理的设计。假设标注图中，title的位置，将<code>@&quot;标题1：&quot;</code>用三个中文“一”<code>@&quot;一一一：&quot;</code>来表示的话，那标注图简直…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">需要注意的一个小点是：UILabel多行自适应时，其高度height = n(行数) * aLineHeight(单行高度)</span><br></pre></td></tr></table></figure></p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>简单搞了一个常用字号和对应最小高度关联的图表，便于让你跟你的设计师沟通，说请这件事，只需要让设计师在做图或标注的时候，将文字对应字号的高度预留出来，就可以免除开发和设计很多不必要的时间开销。<br><img src="http://7xt6wu.com1.z0.glb.clouddn.com/blog:UIDesignStandardLabes.png" alt="labelForm"></p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/08/17/新版Reveal的正确使用方式-1-6-3/" class="prev">上一篇</a><a href="/2016/07/02/帮你作一个整洁又正经的branch/" class="next">下一篇</a></div><div class="copyright"> <p>感兴趣可以关注<a href="https://github.com/Lcrnice">我的GitHub</a> 或关注微博<a href="http://weibo.com/u/2597892552/">@Lcrnice丶</a></p><p>© 2015 - 2017 <a href="http://lcrnice.github.com">Lcrnice</a> · Powered by Hexo</p></div></footer></div><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>